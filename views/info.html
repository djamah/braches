<div ng-app="app"
     ng-controller="breachesListCtrl"
     ng-init="viewOptions={activeTab:''}"
     class="">
    <ul class="nav nav-tabs container" role="tablist">
        <li ng-class="{active: viewOptions.activeTab === 'map'}">
            <a ng-click="viewOptions.activeTab = 'map'" href="#">Карта</a>
        </li>
        <li ng-class="{active: viewOptions.activeTab !== 'map'}">
            <a ng-click="viewOptions.activeTab = ''" href="#">Діаграми</a>
        </li>
    </ul>
    <br/>
    <div style="position: relative" ng-switch="viewOptions.activeTab">
        <div ng-switch-when="map"
             ng-controller="mapCtrl"
             class="map-container">
            <ul class="nav nav-tabs" role="tablist"><!--lust line--></ul>
            <div id="map" style="width: 100%;"></div>
        </div>

        <div>
            <br ng-if="viewOptions.activeTab === 'map'"/>
            {{>filter}}
            
        </div>

        <div ng-switch-default ng-controller="graphicsCtrl">

            <div class="container">
					<p>Зареєстровано порушень: <span ng-bind="filteredData.length"></span></p>		
                <div class="chart-regions-container">

                    <div>
                        <canvas piechart legend=true options="optionsRegions" data="chartReg" height="300" width=""></canvas>
                    </div>

                </div>
            </div>
        </div>
    </div>



</div>
<script src="https://api-maps.yandex.ru/2.1/?lang=uk_UA" type="text/javascript"></script>

<script>
    var mapAvailable;
    ymaps.ready(function(){mapAvailable = true});
</script>
