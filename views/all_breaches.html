
{{=<% %>=}}
<div ng-app="app">
    <div ng-controller="breachesListCtrl">

        <div class="container well">
            <i class="glyphicon glyphicon-filter"></i>

            <div class="row filter">
                <div class="col-lg-3">
                    <div class="form-group">
                        <div>Місто</div>
                        <select chosen
                                class="chosen-select"
                                ng-model="f.city"
                                ng-options="c for c in options.cities"
                                data-placeholder="Оберіть міста..."
                                style="width: 100%;"
                                multiple>
                            <option value=""></option>
                        </select>
                    </div>
                </div>
                <div class="col-lg-2">
                    <div>Рівень акр.</div>
                    <span class="small-input"><input ng-model="f.level.second" type="checkbox" name="level" value="2"/> &#8545</span>
                    <span class="small-input"><input ng-model="f.level.third" type="checkbox" name="level" value="3"/> &#8546</span>
                    <span class="small-input"><input ng-model="f.level.fourth" type="checkbox" name="level" value="4"/> &#8547</span>
                </div>
                <div class="col-lg-2">
                    <div>Статус</div>
                    <span class="small-input"><input ng-model="f.national" type="checkbox"/> нац.</span>
                    <span class="small-input"><input ng-model="f.research" type="checkbox"/> досл.</span>
                </div>
                <div class="col-lg-5">
                    <div class="form-group">
                        <div>Тематика</div>
                        <select chosen
                                multiple
                                ng-model="f.subject"
                                ng-options="c for c in options.subjects"
                                data-placeholder="Оберіть тематики...">
                            <option></option>
                        </select>
                    </div>
                </div>
            </div>
        </div>
        <section class="center-block">
            <table class="table table-striped table-hover">
                <thead>
                <tr>
                    <th>Місто</th>
                    <th>ВНЗ</th>
                    <th>Рівень акр.</th>
                    <th>Статус<br/>нац.</th>
                    <th>Статус<br/>досл.</th>
                    <th>Факультет (інститут), кафедра</th>
                    <th>Тематика</th>
                    <th>Опис факту порушення прав</th>
                </tr>
                </thead>
                <tbody>
                <tr ng-repeat="item in list | filter: filters.searchCityFilter | filter: filters.searchLevelFilter | filter: filters.searchNationalFilter | filter: filters.searchResearchFilter| filter: filters.searchSubjectFilter"
                    ng-click="read_more()">
                    <td class="post_town"><span>{{item.city}}</span></td>
                    <td class="post_university">
                        <span data-toggle="tooltip"
                              data-placement="top"
                              title="{{ item.university.name }}">
                            {{ item.university.name.substr(0,25) }}<span ng-show="!item.univetsity.length < 25">...</span>
                        </span>
                    </td>
                    <td class="post_level">
                        <span ng-show="item.level===2">Ⅱ</span>
                        <span ng-show="item.level===3">Ⅲ</span>
                        <span ng-show="item.level===4">Ⅳ</span>
                    </td>
                    <td class="post_status">
                        <div>
                            <span>
                                <i ng-show="item.national" class="glyphicon glyphicon-ok icons"></i>
                                <i ng-hide="item.national" class="glyphicon glyphicon-remove icons"></i>
                            </span>
                        </div>
                    </td>
                    <td class="post_status">
                        <div>
                            <span>
                                <i ng-show="item.research" class="glyphicon glyphicon-ok icons"></i>
                                <i ng-hide="item.research" class="glyphicon glyphicon-remove icons"></i>
                            </span>
                        </div>
                    </td>
                    <td class="post_faculty">
                        <span data-toggle="tooltip"
                              data-placement="top"
                              title="{{item.department}}">
                            {{item.department.substr(0,30)}}<span ng-show="item.department.length > 30">...</span>
                        </span>
                    </td>
                    <td class="post_theme">
                        <span data-toggle="tooltip"
                              data-placement="top"
                              title="{{item.subject}}">
                            {{item.subject.substr(0,30)}}<span ng-show="item.subject.length > 30">...</span>
                        </span>
                    </td>
                    <td class="post_description">
                    <span>
                        {{item.description.substr(0,30)}}<span ng-show="item.description.length > 30">...</span>
                    </span>
                    </td>
                </tr>
                </tbody>
            </table>
        </section>
    </div>
</div>

<%={{ }}=%>

<script>
    $(function () {
        $('body').tooltip({
            selector: "[data-toggle=tooltip]"
        });
    });
</script>
